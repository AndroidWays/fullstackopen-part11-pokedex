name: Health Check

on:
    schedule:
        - cron: '0 0 * * *' # Runs once daily at midnight UTC
    workflow_dispatch:

jobs:
    health-check:
        runs-on: ubuntu-latest
        steps:
            - name: Check deployed URL
              uses: jtalk/url-health-check-action@v4
              with:
                  url: https://fullstackopen-part11-pokedex.onrender.com/
                  follow-redirect: true
                  max-attempts: 3
                  retry-delay: 5s
