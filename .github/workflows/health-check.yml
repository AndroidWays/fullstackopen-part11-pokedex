name: Pokedex Health Check

on:
    schedule:
        - cron: '0 8 * * *' # runs daily at 8 AM UTC
    workflow_dispatch: # allows manual trigger for testing

jobs:
    health-check:
        runs-on: ubuntu-latest
        steps:
            - name: Check Health Endpoint
              uses: jtalk/url-health-check-action@v4
              with:
                  url: https://fullstackopen-part11-pokedex.onrender.com/health
                  follow-redirect: true
                  max-attempts: 3
                  retry-delay: 5
